<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.make.mapper.IDepartmentMapper">

	<!-- 查询部门信息 -->
	<select id="loadDepartment" parameterType="com.make.bean.DepartmentBean"
		resultType="com.make.bean.DepartmentBean">
		SELECT
		d2.id,
		d2.departmentName,
		d2.comments,
		d2.parentId,
		d2.`status`,
		d2.creatDate,
		d2.`owner`,
		d1.departmentName parentName
		FROM
		t_department
		AS d1
		right JOIN t_department AS d2 ON d1.id = d2.parentId
		<!-- <where>
			<if test="id!=null and id!='' "> id =#{id}
			</if>
		</where> -->
	</select>

	<!-- 添加部门信息 -->
	<insert id="insertDepart" useGeneratedKeys="true" keyProperty="id"
		parameterType="com.make.bean.DepartmentBean">
		INSERT INTO t_department
		(departmentName,comments,parentId,status,creatDate,owner)
		VALUES
		(#{departmentName},#{comments},#{parentId},#{status},#{creatDate},#{owner})
	</insert>
</mapper>
